<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyBook ‚Äì Flight Booking</title>
  <link rel="stylesheet" href="style.css">
  <script src="//unpkg.com/three/build/three.min.js"></script>
  <script src="//unpkg.com/globe.gl"></script>
</head>
<body>
  <header>
    <div class="header-top">
      <div class="logo">‚úàÔ∏è SkyBook</div>
      <nav>
        <a href="#">Aide</a>
        <a href="#">‚ù§Ô∏è</a>
        <a href="#" onclick="showLogin()">Se connecter</a>
      </nav>
    </div>
    <div class="tabs">
      <button class="active">Vols</button>
      <button>H√¥tels</button>
      <button>Voitures</button>
    </div>
    <h1>Des millions de vols pas chers. Une simple recherche.</h1>
  </header>

  <!-- LOGIN MODAL -->
  <div id="loginModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Se connecter</h2>
      <input type="email" id="loginEmail" placeholder="Email">
      <input type="password" id="loginPassword" placeholder="Mot de passe">
      <button onclick="login()">Connexion</button>
      <p>Pas de compte? <a href="#" onclick="showRegister()">Cr√©er un compte</a></p>
      <button class="close-btn" onclick="closeModal('loginModal')">‚úï</button>
    </div>
  </div>

  <!-- REGISTER MODAL -->
  <div id="registerModal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>Cr√©er un compte</h2>
      <input type="text" id="regName" placeholder="Nom">
      <input type="email" id="regEmail" placeholder="Email">
      <input type="password" id="regPassword" placeholder="Mot de passe">
      <button onclick="register()">S'inscrire</button>
      <p>D√©j√† un compte? <a href="#" onclick="showLogin()">Se connecter</a></p>
      <button class="close-btn" onclick="closeModal('registerModal')">‚úï</button>
    </div>
  </div>

  <!-- SEARCH SECTION (Step 1) -->
  <section id="searchPage" class="search-box">
    <div class="trip-type">
      <label><input type="radio" name="tripType" value="oneway" checked> Aller simple</label>
      <label><input type="radio" name="tripType" value="return"> Aller-retour</label>
    </div>

    <div class="search-form">
      <div class="input-group">
        <label for="fromCity">De</label>
        <input id="fromCity" type="text" placeholder="e.g. Rabat (RBA)" autocomplete="off">
        <div id="fromList" class="suggestions" aria-live="polite"></div>
      </div>

      <div class="switch-icon">‚ÜîÔ∏è</div>

      <div class="input-group">
        <label for="toCity">Vers</label>
        <input id="toCity" type="text" placeholder="e.g. Marseille (MRS)" autocomplete="off">
        <div id="toList" class="suggestions" aria-live="polite"></div>
      </div>

      <div class="input-group">
        <label for="departDate">D√©part</label>
        <input id="departDate" type="date">
      </div>

      <div class="input-group" id="returnDateGroup" style="display: none;">
        <label for="returnDate">Retour</label>
        <input id="returnDate" type="date">
      </div>

      <div class="input-group">
        <label for="travelers">Voyageurs et classe</label>
        <select id="travelers">
          <option>1 Adulte, √âconomie</option>
          <option>2 Adultes, √âconomie</option>
          <option>1 Adulte, Business</option>
        </select>
      </div>

      <button onclick="searchFlights()">Rechercher</button>
    </div>

    <div class="options">
      <label><input type="checkbox" id="nearbyFrom"> Ajouter des a√©roports √† proximit√©</label>
      <label><input type="checkbox" id="nearbyTo"> Ajouter des a√©roports √† proximit√©</label>
      <label><input type="checkbox" id="directOnly"> Vols directs</label>
      <label><input type="checkbox"> Ajouter un h√¥tel</label>
    </div>
  </section>

  <!-- LOADING ANIMATION WITH 3D GLOBE -->
  <div id="loadingAnimation" class="loading" style="display: none;">
    <div class="globe-container">
      <div id="globeViz"></div>
    </div>
    <p id="loadingText">Flying from ... to ...</p>
  </div>

  <!-- FLIGHT RESULTS (Step 2) -->
  <section id="flightsPage" class="page" style="display: none;">
    <h2>Available Flights</h2>
    <div id="flightResults"></div>
    <button onclick="backToSearch()" class="back-btn">‚Üê Back</button>
  </section>

  <!-- SEAT SELECTION (Step 3) -->
  <section id="seatPage" class="page" style="display: none;">
    <h2>Select Your Seat</h2>
    <div class="plane-layout">
      <div class="nose">‚úàÔ∏è Nose</div>
      <div class="cabin">
        <div class="aisle-labels">
          <span>A</span><span>B</span><span>C</span><span class="aisle"></span><span>D</span><span>E</span><span>F</span>
        </div>
        <div id="seats"></div>
      </div>
      <div class="emergency-exit" id="exit1">Emergency Exit</div>
      <div class="emergency-exit" id="exit2">Emergency Exit</div>
      <div class="tail">Tail ‚úàÔ∏è</div>
    </div>
    <p id="seatPrice">Selected Seat Price: ‚Ç¨0</p>
    <button onclick="goToLuggage()">Continue to Luggage</button>
    <button onclick="backToFlights()" class="back-btn">‚Üê Back</button>
  </section>

  <!-- LUGGAGE SELECTION (Step 4) -->
  <section id="luggagePage" class="page" style="display: none;">
    <h2>Add Luggage</h2>
    <div class="luggage-options">
      <label>Carry-on (Free)</label>
      <input type="number" id="carryOn" min="0" max="2" value="1">

      <label>Checked Bags (‚Ç¨30 each)</label>
      <input type="number" id="checkedBags" min="0" max="3" value="0">
    </div>
    <p id="luggageCost">Luggage Cost: ‚Ç¨0</p>
    <button onclick="goToDetails()">Continue to Details</button>
    <button onclick="backToSeats()" class="back-btn">‚Üê Back</button>
  </section>

  <!-- PASSENGER DETAILS (Step 5) -->
  <section id="detailsPage" class="page" style="display: none;">
    <h2>Passenger Details</h2>
    <input type="text" id="firstName" placeholder="First Name" required>
    <input type="text" id="lastName" placeholder="Last Name" required>
    <input type="email" id="email" placeholder="Email" required>
    <input type="text" id="passport" placeholder="Passport Number" required>
    <button onclick="goToPayment()">Continue to Payment</button>
    <button onclick="backToLuggage()" class="back-btn">‚Üê Back</button>
  </section>

  <!-- PAYMENT PAGE (Step 6) -->
  <section id="paymentPage" class="page" style="display: none;">
    <h2>Payment Details</h2>
    <div id="cartSummary" class="cart-details">
      <h3>Your Booking Cart</h3>
      <ul>
        <li id="cartFlight"></li>
        <li id="cartDate"></li>
        <li id="cartPassenger"></li>
        <li id="cartSeat"></li>
        <li id="cartLuggage"></li>
        <li id="cartTotal"></li>
      </ul>
    </div>
    <form id="paymentForm" novalidate>
      <input type="text" id="cardName" placeholder="Card Holder Name" required>
      <input type="text" id="cardNumber" placeholder="Card Number (16 digits)" maxlength="19" required>
      <div class="row">
        <input type="text" id="expDate" placeholder="MM/YY" maxlength="5" required>
        <input type="text" id="cvv" placeholder="CVV" maxlength="3" required>
      </div>
      <button type="submit">Pay Now</button>
    </form>
    <button onclick="backToDetails()" class="back-btn">‚Üê Back</button>
  </section>

  <footer>
    <button>üè† H√¥tels</button>
    <button>üöó Location de voiture</button>
    <button>üåç Explorez le monde entier</button>
  </footer>

  <script src="script.js"></script>
</body>
</html>