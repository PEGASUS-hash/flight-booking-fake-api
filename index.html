<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyBook – Flight Booking</title>
  <link rel="stylesheet" href="style.css">
  <script src="//unpkg.com/three/build/three.min.js"></script>
  <script src="//unpkg.com/globe.gl"></script>
</head>
<body>
  <header>
    <h1>✈️ SkyBook</h1>
    <p>Search & Book Flights Easily</p>
  </header>

  <!-- SEARCH SECTION (Step 1) -->
  <section id="searchPage" class="search-box">
    <div class="input-group">
      <label for="fromCity">From</label>
      <input id="fromCity" type="text" placeholder="e.g. Barcelona" autocomplete="off">
      <div id="fromList" class="suggestions" aria-live="polite"></div>
    </div>

    <div class="input-group">
      <label for="toCity">To</label>
      <input id="toCity" type="text" placeholder="e.g. Paris" autocomplete="off">
      <div id="toList" class="suggestions" aria-live="polite"></div>
    </div>

    <div class="input-group">
      <label for="dateInput">Departure Date</label>
      <input id="dateInput" type="date">
    </div>

    <button onclick="searchFlights()">Search Flights</button>
  </section>

  <!-- LOADING ANIMATION WITH 3D GLOBE -->
  <div id="loadingAnimation" class="loading" style="display: none;">
    <div id="globeViz" style="width: 100%; height: 100%;"></div>
    <p id="loadingText">Flying from ... to ...</p>
  </div>

  <!-- FLIGHT RESULTS (Step 2) -->
  <section id="flightsPage" class="page" style="display: none;">
    <h2>Available Flights</h2>
    <div id="flightResults"></div>
    <button onclick="backToSearch()" class="back-btn">← Back</button>
  </section>

  <!-- SEAT SELECTION (Step 3) -->
  <section id="seatPage" class="page" style="display: none;">
    <h2>Select Your Seat</h2>
    <div class="plane-layout">
      <div class="nose">✈️ Nose</div>
      <div class="cabin">
        <div class="aisle-labels">
          <span>A</span><span>B</span><span>C</span><span class="aisle"></span><span>D</span><span>E</span><span>F</span>
        </div>
        <div id="seats"></div>
      </div>
      <div class="emergency-exit" id="exit1">Emergency Exit</div>
      <div class="emergency-exit" id="exit2">Emergency Exit</div>
      <div class="tail">Tail ✈️</div>
    </div>
    <p id="seatPrice">Selected Seat Price: €0</p>
    <button onclick="goToLuggage()">Continue to Luggage</button>
    <button onclick="backToFlights()" class="back-btn">← Back</button>
  </section>

  <!-- LUGGAGE SELECTION (Step 4) -->
  <section id="luggagePage" class="page" style="display: none;">
    <h2>Add Luggage</h2>
    <div class="luggage-options">
      <label>Carry-on (Free)</label>
      <input type="number" id="carryOn" min="0" max="2" value="1">

      <label>Checked Bags (€30 each)</label>
      <input type="number" id="checkedBags" min="0" max="3" value="0">
    </div>
    <p id="luggageCost">Luggage Cost: €0</p>
    <button onclick="goToDetails()">Continue to Details</button>
    <button onclick="backToSeats()" class="back-btn">← Back</button>
  </section>

  <!-- PASSENGER DETAILS (Step 5) -->
  <section id="detailsPage" class="page" style="display: none;">
    <h2>Passenger Details</h2>
    <input type="text" id="firstName" placeholder="First Name" required>
    <input type="text" id="lastName" placeholder="Last Name" required>
    <input type="email" id="email" placeholder="Email" required>
    <input type="text" id="passport" placeholder="Passport Number" required>
    <button onclick="goToPayment()">Continue to Payment</button>
    <button onclick="backToLuggage()" class="back-btn">← Back</button>
  </section>

  <!-- PAYMENT PAGE (Step 6) -->
  <section id="paymentPage" class="page" style="display: none;">
    <h2>Payment Details</h2>
    <p id="summary">Summary: Flight from ... to ..., Seat ..., Luggage ..., Total: €...</p>
    <form id="paymentForm" novalidate>
      <input type="text" id="cardName" placeholder="Card Holder Name" required>
      <input type="text" id="cardNumber" placeholder="Card Number (16 digits)" maxlength="19" required>
      <div class="row">
        <input type="text" id="expDate" placeholder="MM/YY" maxlength="5" required>
        <input type="text" id="cvv" placeholder="CVV" maxlength="3" required>
      </div>
      <button type="submit">Pay Now</button>
    </form>
    <button onclick="backToDetails()" class="back-btn">← Back</button>
  </section>

  <script src="script.js"></script>
</body>
</html>